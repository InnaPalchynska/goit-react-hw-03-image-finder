{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/modal/Modal.js","components/Services/api.js","App.js","index.js"],"names":["Searchbar","state","query","handleSubmit","e","preventDefault","props","onSubmit","reset","handleChange","target","value","setState","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","key","src","tags","onClick","alt","currentTarget","ImageGallery","images","map","img","webformatURL","id","Button","modalRoot","document","querySelector","Modal","modalImage","reactDom","createPortal","page","a","axios","defaults","baseURL","params","image_type","orientation","per_page","get","q","data","App","loader","openModal","handleAddQuery","handleKeyDown","code","toggleModal","toNextPage","prevState","handleOnClick","handleBackdropClick","window","addEventListener","prevProps","getImages","removeEventListener","getImagesApi","then","hits","finally","smoothScroll","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1070cc33.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state);\r\n    this.reset();\r\n  };\r\n\r\n  handleChange = e => {\r\n    const query = e.target.value;\r\n    this.setState({ query });\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","function ImageGalleryItem({ key, src, tags, onClick }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\" key={key}>\r\n      <img\r\n        src={src}\r\n        alt={tags}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={e => onClick(e.currentTarget)}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from './ImageGalleryItem';\r\n\r\nfunction ImageGallery({ images, onClick }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images &&\r\n        images.map(img => (\r\n          <ImageGalleryItem\r\n            key={img.id}\r\n            src={img.webformatURL}\r\n            tags={img.tags}\r\n            onClick={onClick}\r\n          />\r\n        ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={() => onClick()}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import reactDom from 'react-dom';\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nfunction Modal({ modalImage, onClick }) {\r\n  return reactDom.createPortal(\r\n    <div className=\"Overlay\" onClick={e => onClick(e)}>\r\n      <div className=\"Modal\">\r\n        <img src={modalImage.src} alt={modalImage.alt} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\n\r\nexport default async function getImagesApi(query, page) {\r\n  axios.defaults.baseURL = `https://pixabay.com/api/`;\r\n  axios.defaults.params = {\r\n    key: '21988009-297d867560bf729bce41e20bb',\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    per_page: 12,\r\n  };\r\n\r\n  const { data } = await axios.get('', {\r\n    params: {\r\n      q: query,\r\n      page,\r\n    },\r\n  });\r\n\r\n  return data;\r\n}\r\n","import React, { Component } from 'react';\n\nimport './App.css';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Modal from './components/modal/Modal';\n\nimport getImagesApi from './components/Services/api';\n\nclass App extends Component {\n  state = {\n    images: [],\n    query: '',\n    page: 1,\n    loader: false,\n    openModal: false,\n    modalImage: '',\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.setState({ images: [], page: 1 });\n      this.getImages();\n    }\n    if (prevState.page !== this.state.page) {\n      this.getImages();\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleAddQuery = q => {\n    this.setState(q);\n  };\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.toggleModal();\n    }\n  };\n\n  getImages() {\n    getImagesApi(this.state.query, this.state.page)\n      .then(data =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...data.hits],\n        })),\n      )\n      .finally(() => {\n        this.setState({ loader: false });\n        this.smoothScroll();\n      });\n  }\n\n  toNextPage = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  smoothScroll() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  toggleModal() {\n    this.setState({ openModal: !this.state.openModal });\n  }\n\n  handleOnClick = e => {\n    this.setState({ modalImage: e });\n    this.toggleModal();\n  };\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.toggleModal();\n    }\n  };\n\n  render() {\n    const images = this.state.images;\n    const { modalImage, openModal, loader } = this.state;\n\n    return (\n      <>\n        {loader && (\n          <Loader type=\"Bars\" color=\"#3f51b5\" height={80} width={80} />\n        )}\n        <Searchbar onSubmit={this.handleAddQuery} />\n        {images && (\n          <ImageGallery images={images} onClick={this.handleOnClick} />\n        )}\n        {images.length > 0 && <Button onClick={this.toNextPage} />}\n        {openModal && (\n          <Modal onClick={this.handleBackdropClick} modalImage={modalImage} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}